(()=>{"use strict";var e={937:(e,t,n)=>{n.d(t,{wq:()=>a,zF:()=>i});const i=[{id:"to-do",title:"Задачи",icon:n(389),tasks:[1,3]},{id:"in-progress",title:"В процессе",icon:n(600),tasks:[2]},{id:"done",title:"Выполнено",icon:n(781),tasks:[]}],a=[{id:1,title:"Задача 1",description:"Описание задачи 1",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"},{id:2,title:"Задача 2",description:"Описание задачи 2",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"},{id:3,title:"Задача 3",description:"Описание задачи 3",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"}]},781:(e,t,n)=>{e.exports=n.p+"images/72c89007afe118f96bae.svg"},600:(e,t,n)=>{e.exports=n.p+"images/ea97ce7c9ec8ef42553c.svg"},389:(e,t,n)=>{e.exports=n.p+"images/dfb1227959dce75c20d0.svg"},746:(e,t,n)=>{e.exports=n.p+"images/a1f124eb483f1166b23f.svg"}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&!e;)e=i[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e=n(937);const t=document.querySelector(".modal"),i=document.querySelector("#edit-modal"),a=document.querySelector("#edit-modal form"),o=document.querySelector("#new-board"),d=document.querySelector("#new-board form");function r(){const t=document.querySelector(".kanban");t.innerHTML="",e.zF.forEach((i=>{const a=document.createElement("section");a.className=`kanban__column kanban__column--${i.id}`,a.innerHTML=`\n      <div class="kanban__header">\n        <div class="kanban__header-content">\n          <img src="${i.icon}" alt="Колонка ${i.title}" class="kanban__icon kanban__icon--column">\n          <h2 class="kanban__title">${i.title}</h2>\n        </div>\n        ${"done"!==i.id?`<img src="${n(746)}" alt="Добавить задачу" class="kanban__icon kanban__icon--add" data-column-id="${i.id}">`:""}\n      </div>\n      <div class="kanban__list"></div>\n    `;const o=a.querySelector(".kanban__list");i.tasks.forEach((t=>{const n=e.wq.find((e=>e.id===t));n&&o.appendChild(function(e){const t=document.createElement("div"),n=function(e){const t=new Date,n=new Date(e).getTime()-t.getTime(),i=Math.ceil(n/864e5);if(i<=7)return{tag:"complexity__dot--high",length:3};if(i<=14)return{tag:"complexity__dot--medium",length:2};return{tag:"complexity__dot--low",length:1}}(e.dueDate);t.className="task-item",t.setAttribute("draggable","true"),t.id=e.id;let i="";for(let e=0;e<n.length;e++)i+=`<span class="complexity__dot ${n.tag}"></span>`;return t.innerHTML=`\n    <h3 class="task-item__title">${e.title}</h3>\n    <p class="task-item__description">${e.description}</p>\n    <div class="task-item__info">\n      <div class="task-item__complexity complexity">\n        ${i}\n      </div>\n      <div class="task-item__client">${e.dueDate}</div>\n    </div>\n    <button class="task-item__edit-button">изменить</button>>\n  `,t}(n))})),t.appendChild(a)}))}function c(){const e=document.querySelectorAll(".task-item"),t=document.querySelectorAll(".kanban__column");e.forEach((e=>{e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging")}))})),t.forEach((e=>{e.addEventListener("dragover",(t=>{t.preventDefault();const n=document.querySelector(".dragging");e.querySelector(".kanban__list").appendChild(n)}))}))}document.addEventListener("DOMContentLoaded",(()=>{r(),c(),g();const l=document.querySelectorAll(".kanban__icon--add"),s=document.querySelector(".close-modal"),u=document.querySelector(".cancel-button"),m=document.querySelector(".modal form");let p=null;function g(){document.querySelectorAll(".kanban__icon--add").forEach((e=>{e.addEventListener("click",(()=>{p=e.getAttribute("data-column-id"),t.style.display="flex"}))}))}l.forEach((e=>{e.addEventListener("click",(()=>{p=e.getAttribute("data-column-id"),t.style.display="flex"}))})),m.addEventListener("submit",(n=>{n.preventDefault();const i=document.getElementById("title-task").value,a=document.getElementById("description-task").value,o=m.elements.date.value,d={id:e.wq.length+1,title:i,description:a,dueDate:o,columnId:p};e.wq.push(d);const l=e.zF.find((e=>e.id===d.columnId));l&&l.tasks.push(d.id),r(),c(),g(),m.reset(),t.style.display="none"})),s.addEventListener("click",(()=>{t.style.display="none"})),u.addEventListener("click",(()=>{t.style.display="none"})),a.addEventListener("submit",(t=>{t.preventDefault(),function(t,n,i,o){let d=e.wq.find((e=>e.id==t));d.title=n,d.description=i,d.dueDate=o,a.reset(),console.log(d)}(a.getAttribute("data-task-id"),a.querySelector("#title-task").value,a.querySelector("#description-task").value,a.elements.date.value),r(),i.style.display="none"})),document.addEventListener("click",(t=>{if("task-item__edit-button"===t.target.className){let n=Number(t.target.closest(".task-item").id);i.style.display="flex";let o=e.wq.find((e=>e.id===n));o&&(a.querySelector("#title-task").value=o.title,a.querySelector("#description-task").value=o.description,a.elements.date.value=o.dueDate,a.setAttribute("data-task-id",n.toString()))}"button--new-board"===t.target.className&&(o.style.display="flex",d.addEventListener("submit",(t=>{t.preventDefault(),function(t,i){let a={id:t,title:i,icon:n(781),tasks:[]};e.zF.push(a)}(document.querySelector("#board-id").value,document.querySelector("#board-name").value),d.reset(),o.style.display="none",r(),g()})))}))}))})()})();