(()=>{"use strict";var e={26:(e,t,n)=>{var a=n(937);document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".auth-form").addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("login").value,n=document.getElementById("password").value;if(a.EA.login===t&&a.EA.password===n){const e=Math.random().toString(36).substr(2);return localStorage.setItem("authToken",e),void(window.location.href="../todo")}alert("Неверные учетные данные")}))}))},937:(e,t,n)=>{n.d(t,{EA:()=>i,wq:()=>o,zF:()=>a});const a=[{id:"to-do",title:"Задачи",icon:n(389),tasks:[1,3]},{id:"in-progress",title:"В процессе",icon:n(600),tasks:[2]},{id:"done",title:"Выполнено",icon:n(781),tasks:[]}],o=[{id:1,title:"Задача 1",description:"Описание задачи 1",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"},{id:2,title:"Задача 2",description:"Описание задачи 2",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"},{id:3,title:"Задача 3",description:"Описание задачи 3",complexity:"high",dueDate:"16.11.2023",columnId:"to-do"}],i={login:"admin",password:"123"}},30:(e,t,n)=>{var a=n(937);const o=document.querySelector(".modal"),i=document.querySelector("#edit-modal"),d=document.querySelector("#edit-modal form"),r=document.querySelector("#new-board"),l=document.querySelector("#new-board form");function c(){const e=document.querySelector(".kanban");e.innerHTML="",a.zF.forEach((t=>{const o=document.createElement("section");o.className=`kanban__column kanban__column--${t.id}`,o.innerHTML=`\n      <div class="kanban__header">\n        <div class="kanban__header-content">\n          <img src="${t.icon}" alt="Колонка ${t.title}" class="kanban__icon kanban__icon--column">\n          <h2 class="kanban__title">${t.title}</h2>\n        </div>\n        ${"done"!==t.id?`<img src="${n(746)}" alt="Добавить задачу" class="kanban__icon kanban__icon--add" data-column-id="${t.id}">`:""}\n      </div>\n      <div class="kanban__list"></div>\n    `;const i=o.querySelector(".kanban__list");t.tasks.forEach((e=>{const t=a.wq.find((t=>t.id===e));t&&i.appendChild(function(e){const t=document.createElement("div"),n=function(e){const t=new Date,n=new Date(e).getTime()-t.getTime(),a=Math.ceil(n/864e5);if(a<=7)return{tag:"complexity__dot--high",length:3};if(a<=14)return{tag:"complexity__dot--medium",length:2};return{tag:"complexity__dot--low",length:1}}(e.dueDate);t.className="task-item",t.setAttribute("draggable","true"),t.id=e.id;let a="";for(let e=0;e<n.length;e++)a+=`<span class="complexity__dot ${n.tag}"></span>`;return t.innerHTML=`\n    <h3 class="task-item__title">${e.title}</h3>\n    <p class="task-item__description">${e.description}</p>\n    <div class="task-item__info">\n      <div class="task-item__complexity complexity">\n        ${a}\n      </div>\n      <div class="task-item__client">${e.dueDate}</div>\n    </div>\n    <button class="task-item__edit-button">изменить</button>>\n  `,t}(t))})),e.appendChild(o)}))}function s(){const e=document.querySelectorAll(".task-item"),t=document.querySelectorAll(".kanban__column");e.forEach((e=>{e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging")}))})),t.forEach((e=>{e.addEventListener("dragover",(t=>{t.preventDefault();const n=document.querySelector(".dragging");e.querySelector(".kanban__list").appendChild(n)}))}))}document.addEventListener("DOMContentLoaded",(()=>{c(),s(),g();const e=document.querySelectorAll(".kanban__icon--add"),t=document.querySelector(".close-modal"),u=document.querySelector(".cancel-button"),m=document.querySelector(".modal form");let p=null;function g(){document.querySelectorAll(".kanban__icon--add").forEach((e=>{e.addEventListener("click",(()=>{p=e.getAttribute("data-column-id"),o.style.display="flex"}))}))}e.forEach((e=>{e.addEventListener("click",(()=>{p=e.getAttribute("data-column-id"),o.style.display="flex"}))})),m.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("title-task").value,n=document.getElementById("description-task").value,i=m.elements.date.value,d={id:a.wq.length+1,title:t,description:n,dueDate:i,columnId:p};a.wq.push(d);const r=a.zF.find((e=>e.id===d.columnId));r&&r.tasks.push(d.id),c(),s(),g(),m.reset(),o.style.display="none"})),t.addEventListener("click",(()=>{o.style.display="none"})),u.addEventListener("click",(()=>{o.style.display="none"})),d.addEventListener("submit",(e=>{e.preventDefault(),function(e,t,n,o){let i=a.wq.find((t=>t.id==e));i.title=t,i.description=n,i.dueDate=o,d.reset(),console.log(i)}(d.getAttribute("data-task-id"),d.querySelector("#title-task").value,d.querySelector("#description-task").value,d.elements.date.value),c(),i.style.display="none"})),document.addEventListener("click",(e=>{if("task-item__edit-button"===e.target.className){let t=Number(e.target.closest(".task-item").id);i.style.display="flex";let n=a.wq.find((e=>e.id===t));n&&(d.querySelector("#title-task").value=n.title,d.querySelector("#description-task").value=n.description,d.elements.date.value=n.dueDate,d.setAttribute("data-task-id",t.toString()))}"button--new-board"===e.target.className&&(r.style.display="flex",l.addEventListener("submit",(e=>{e.preventDefault(),function(e,t){let o={id:e,title:t,icon:n(781),tasks:[]};a.zF.push(o)}(document.querySelector("#board-id").value,document.querySelector("#board-name").value),l.reset(),r.style.display="none",c(),g()})))}))}))},781:(e,t,n)=>{e.exports=n.p+"images/72c89007afe118f96bae.svg"},600:(e,t,n)=>{e.exports=n.p+"images/ea97ce7c9ec8ef42553c.svg"},389:(e,t,n)=>{e.exports=n.p+"images/dfb1227959dce75c20d0.svg"},746:(e,t,n)=>{e.exports=n.p+"images/a1f124eb483f1166b23f.svg"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&!e;)e=a[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{n(26),n(30),n(937);document.addEventListener("DOMContentLoaded",(()=>{localStorage.getItem("authToken")?window.location.href="./todo/":window.location.href="./auth/"}))})()})();